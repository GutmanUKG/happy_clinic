{"version":3,"file":"calendar.js","names":["document","addEventListener","days_list","querySelector","colums","querySelectorAll","days","loader","isLoad","url","fetch","then","res","json","data","renderTime","style","display","curDate","Date","getDate","curMonth","getMonth","date","i","length","dateWrapper","textContent","parentNode","classList","add","time_wrapper","createElement","c","time","innerHTML","clock","appendChild","active","selectDay","dayDays","forEach","item","e","preventDefault","target","contains","clearClass","elements","activeClass","remove"],"sources":["calendar.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded',()=>{\r\n    const days_list = document.querySelector('.days_list')\r\n    const colums = days_list.querySelectorAll('.day_date')\r\n    const days = []\r\n    let loader = document.querySelector('#loader')\r\n    let isLoad = true\r\n    let url = `/days.json`\r\n\r\n    fetch(`${url}`)\r\n        .then(res=> res.json())\r\n        .then(data=>{\r\n            //Функция формирует журнал времени и отлючает лоадер\r\n            renderTime(data)\r\n            isLoad = false\r\n            if(isLoad == false){\r\n                loader.style.display= 'none'\r\n            }\r\n        })\r\n    //Текущая дата\r\n    let curDate = new Date().getDate()\r\n    let curMonth = new Date().getMonth()\r\n    let date = (function (){\r\n        if(curMonth +1 < 10){\r\n            curMonth = `0${curMonth + 1}`\r\n        }else{\r\n            curMonth = `${curMonth + 1}`\r\n        }\r\n        return `${curDate}.${curMonth}`\r\n    })()\r\n\r\n    function renderTime(data){\r\n        for(let i = 0; i < data.length; i++){\r\n            let dateWrapper = colums[i].querySelector('.date').querySelector('span')\r\n            if(dateWrapper.textContent == data[i].date){\r\n                //Поиск текущей даты в таблице и добавление к ней класса\r\n                if(dateWrapper.textContent == date){\r\n                    dateWrapper.parentNode.parentNode.classList.add('cur_date')\r\n                }\r\n                //Обертка для списка времени примема\r\n                let time_wrapper = document.createElement('div')\r\n                time_wrapper.classList.add('time_wrapper')\r\n                for(let c = 0; c < data[i].time.length; c++){\r\n                    //Формирование елемента времени приема\r\n                    let time = document.createElement('div')\r\n                    time.classList.add('time_item')\r\n                    time.innerHTML = `<span>${data[i].time[c].clock}</span>`\r\n                    time_wrapper.appendChild(time)\r\n                    //Выделение свободных часов\r\n                    if(data[i].time[c].active == true){\r\n                        time.innerHTML = `<span class=\"active\">${data[i].time[c].clock}</span>`\r\n                        time_wrapper.appendChild(time)\r\n                    }\r\n                    //Сортировка по колонкам\r\n                    colums[i].appendChild(time_wrapper)\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    function selectDay(){\r\n        const dayDays = document.querySelectorAll('.day_date')\r\n        dayDays.forEach(item=>{\r\n            item.addEventListener('click', (e)=>{\r\n                e.preventDefault();\r\n                let target = e.target\r\n                if(target.classList.contains('date')){\r\n                    clearClass(dayDays, 'cur_date')\r\n                    target.parentNode.classList.add('cur_date')\r\n                }\r\n            })\r\n        })\r\n    }\r\n    selectDay()\r\n    function clearClass(elements, activeClass){\r\n      for(let i = 0;  i < elements.length; i++){\r\n          elements[i].classList.remove(activeClass)\r\n      }\r\n    }\r\n});\r\n"],"mappings":"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"}